CREATE VIEW "public"."vw_categories" AS (select "categories"."id", "categories"."title", COUNT("campaign_publications"."id") as "publication_count" from "categories" left join "campaigns" on "categories"."id" = ANY("campaigns"."categories") left join "campaign_publications" on "campaign_publications"."campaign" = "campaigns"."id" AND ("campaign_publications"."publishBefore" > NOW() OR "campaign_publications"."publishBefore" IS NULL) group by "categories"."id");